<html xmlns:th="http://www.thymeleaf.org">

<!-- BEGIN HEAD -->
<head>
<title th:fragment="html-title">数据开发-新建任务</title>
</head>
<head th:include="common :: common-html-header"></head>
<!-- END HEAD -->

<style type="text/css">
.portlet .dashboard-stat:last-child {
  margin-bottom: 20px;
}

.dashboard-stat.orange {
  background-color: #ff8000;
}
</style>
<body>

  <!-- BEGIN HEADER -->
  <div th:replace="common :: common-page-header"></div>
  <!-- END HEADER -->

  <!-- BEGIN PAGE CONTAINER -->
  <div class="page-container">
    <div class="page-content">
      <!-- BEGIN PAGE HEAD -->
      <div class="container">


        <ul class="page-breadcrumb breadcrumb">
          <li><a>数据开发</a> <i class="fa fa-circle"></i></li>
          <li class="active">新建任务</li>
        </ul>
        <!-- BEGIN PORTLET -->
        <div class="portlet light ">
          <div class="row mix-grid" style="cursor: pointer;">


            <div class="row mix-grid">
              <div class="col-sm-3" onClick="newTask('/workshop/task-data-extract')" style="display: block; opacity: 1;">
                <div class="dashboard-stat green">
                  <div class="visual">
                    <i class="fa fa-database"></i>
                  </div>
                  <div class="details">
                    <div class="number">数据抽取</div>
                  </div>
                </div>
              </div>

              <div class="col-sm-3" onClick="newTask('/workshop/task-add-sql?type=3')" style="display: block; opacity: 1;">
                <div class="dashboard-stat blue">
                  <div class="visual">
                    <i class="fa fa-soundcloud"></i>
                  </div>
                  <div class="details">
                    <div class="number">HIVE-SQL</div>
                  </div>
                </div>
              </div>

              <div class="col-sm-3" onClick="newTask('/workshop/task-add-mapreduce?type=4')" style="display: block; opacity: 1;">
                <div class="dashboard-stat red">
                  <div class="visual">
                    <i class="fa fa-slack"></i>
                  </div>
                  <div class="details">
                    <div class="number">MR</div>
                  </div>
                </div>
              </div>

              <div class="col-sm-3" onClick="newTask('/workshop/task-add-spark?type=7')" style="display: block; opacity: 1;">
                <div class="dashboard-stat red-pink">
                  <div class="visual">
                    <i class="fa fa-steam"></i>
                  </div>
                  <div class="details">
                    <div class="number">SPARK</div>
                  </div>
                </div>
              </div>

              <div class="col-sm-3" onClick="newTask('/workshop/task-add-spark?type=12')" style="display: block; opacity: 1;">
                <div class="dashboard-stat yellow-gold">
                  <div class="visual">
                    <i class="fa fa-steam"></i>
                  </div>
                  <div class="details">
                    <div class="number">SPARK-STREAMING</div>
                  </div>
                </div>
              </div>
              
              <div class="col-sm-3" onClick="newTask('/workshop/task-add-sql?type=16')" style="display: block; opacity: 1;">
                <div class="dashboard-stat yellow-gold">
                  <div class="visual">
                    <i class="fa fa-steam"></i>
                  </div>
                  <div class="details">
                    <div class="number">SPARK-SQL</div>
                  </div>
                </div>
              </div>

              <div class="col-sm-3" onClick="newTask('/workshop/task-add-shell?type=5')" style="display: block; opacity: 1;">
                <div class="dashboard-stat green-meadow">
                  <div class="visual">
                    <i class="fa fa-terminal"></i>
                  </div>
                  <div class="details">
                    <div class="number">SHELL</div>
                  </div>
                </div>
              </div>

              <div class="col-sm-3" onClick="newTask('/workshop/task-add-shell-ide?type=21')" style="display: block; opacity: 1;">
                <div class="dashboard-stat yellow">
                  <div class="visual">
                    <i class="fa fa-terminal"></i>
                  </div>
                  <div class="details">
                    <div class="number">SHELL-IDE</div>
                  </div>
                </div>
              </div>

              <!-- <div class="col-sm-3" onClick="newTask('/workshop/scheduled-job?type=99')" style="display: block; opacity: 1;">
                <div class="dashboard-stat purple-plum">
                  <div class="visual">
                    <i class="fa fa-clock-o"></i>
                  </div>
                  <div class="details">
                    <div class="number">定时任务</div>
                  </div>
                </div>
              </div> -->

            </div>
          </div>
        </div>
        <!-- END PORTLET -->
      </div>
      <!-- END PAGE CONTENT -->
    </div>
  </div>
  <!-- END PAGE CONTAINER -->


  <!-- BEGIN FOOTER -->
  <div th:include="common :: common-page-footer"></div>
  <!-- END FOOTER -->


  <!-- BEGIN JAVASCRIPTS (Load javascripts at bottom, this will reduce page load time) -->
  <!-- BEGIN CORE PLUGINS -->
  <!--[if lt IE 9]>
<script src="/assets/global/plugins/respond.min.js"></script>
<script src="/assets/global/plugins/excanvas.min.js"></script> 
<![endif]-->
  <script src="/assets/global/plugins/jquery.min.js" type="text/javascript"></script>
  <script src="/assets/global/plugins/jquery-migrate.min.js" type="text/javascript"></script>
  <!-- IMPORTANT! Load jquery-ui.min.js before bootstrap.min.js to fix bootstrap tooltip conflict with jquery ui tooltip -->
  <script src="/assets/global/plugins/jquery-ui/jquery-ui.min.js" type="text/javascript"></script>
  <script src="/assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
  <script src="/assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js" type="text/javascript"></script>
  <script src="/assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
  <script src="/assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
  <script src="/assets/global/plugins/jquery.cokie.min.js" type="text/javascript"></script>
  <script src="/assets/global/plugins/uniform/jquery.uniform.min.js" type="text/javascript"></script>
  <script src="/assets/global/scripts/underscore-min.js"></script>
  <script src="/assets/global/plugins/bootstrap-modal/js/bootstrap-modalmanager.js"></script>
  <script src="/assets/global/plugins/bootstrap-modal/js/bootstrap-modal.js"></script>
  <script src="/assets/global/plugins/messager/bootbox.js"></script>
  <!-- END CORE PLUGINS -->
  <!-- BEGIN PAGE LEVEL PLUGINS -->
  <script src="/assets/global/plugins/jquery-validation/js/jquery.validate.min.js" type="text/javascript"></script>
  <script src="/assets/global/plugins/jquery-validation/js/additional-methods.min.js" type="text/javascript"></script>
  <script src="/assets/global/plugins/datatables/media/js/jquery.dataTables.min.js" type="text/javascript"></script>
  <script src="/assets/global/plugins/datatables/extensions/TableTools/js/dataTables.tableTools.min.js" type="text/javascript"></script>
  <script src="/assets/global/plugins/datatables/extensions/ColReorder/js/dataTables.colReorder.min.js" type="text/javascript"></script>
  <script src="/assets/global/plugins/datatables/extensions/Scroller/js/dataTables.scroller.min.js" type="text/javascript"></script>
  <script src="/assets/global/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.js" type="text/javascript"></script>
  <!-- END PAGE LEVEL PLUGINS -->
  <!-- BEGIN PAGE LEVEL SCRIPTS -->
  <script src="/assets/global/scripts/metronic.js" type="text/javascript"></script>
  <script src="/assets/global/scripts/custom.js" type="text/javascript"></script>
  <script src="/assets/layout/scripts/layout.js" type="text/javascript"></script>
  <script src="/assets/layout/scripts/quick-sidebar.js" type="text/javascript"></script>
  <script src="/assets/layout/scripts/demo.js" type="text/javascript"></script>
  <script src="/assets/layout/scripts/user-message.js" type="text/javascript"></script>
  <!-- END PAGE LEVEL SCRIPTS -->
  <script>
      jQuery(document).ready(function() {
        Metronic.init(); // init metronic core componets
        Layout.init(); // init layout
        Demo.init(); // init demo(theme settings page)
        QuickSidebar.init(); // init quick sidebar
        UserMessage.init({
          contextPath : ''
        });
        //Index.init(); // init index page
        //Tasks.initDashboardWidget(); // init tash dashboard widget

        //全局的ajax访问，处理ajax清求时session超时
        $.ajaxSetup({
          contentType : "application/x-www-form-urlencoded;charset=utf-8",
          error : function(jqXHR, textStatus, errorThrown) {
            var message;
            switch (jqXHR.status) {
              case (500) :
                message = "服务器系统内部错误";
                break;
              case (401) :
                message = "未登录";
                break;
              case (403) :
                message = "无权限执行此操作";
                break;
              case (408) :
                message = "请求超时";
                break;
              default :
                message = "未知错误";
            }
            bootbox.alert(message + "!请重新刷新试试，并联系管理员");
          },
          complete : function(XMLHttpRequest, textStatus) {
            //通过XMLHttpRequest取得响应头，sessionstatus，
            var sessionstatus = XMLHttpRequest.getResponseHeader("sessionstatus");
            if (sessionstatus == "timeout") {
              //如果超时就处理 ，指定要跳转的页面(比如登陆页)
              //window.location.replace("/login/index.php");
              bootbox.confirm({
                message : "当前会话过期! 需要重新刷新当前页面吗?",
                buttons : {
                  confirm : {
                    label : 'Yes',
                    className : 'btn-success'
                  },
                  cancel : {
                    label : 'No',
                    className : 'btn-danger'
                  }
                },
                callback : function(result) {
                  if (result) {
                    window.location.reload();
                  }
                }
              });
            }
          }
        });
      });
    </script>
  <!-- END JAVASCRIPTS -->
</body>
<!-- END BODY -->
</html>
<script>
  var newTask = function(url) {
    window.location.href = url;
  }
</script>